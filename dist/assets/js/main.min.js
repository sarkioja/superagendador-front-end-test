const userID="sarkioja";function getUser(e){const t=new XMLHttpRequest;t.open("GET","https://api.github.com/users/"+e,!0),t.onload=function(){let e=JSON.parse(this.response);t.status>=200&&t.status<400?buildUser(e.name,e.bio,e.avatar_url,e.public_repos):console.log(t.responseText)},t.send()}function getRepos(e){const t=new XMLHttpRequest,s=`https://api.github.com/users/${e}/repos?sort=updated`;t.open("GET",s,!0),t.onload=function(){let e=JSON.parse(this.response);if(t.status>=200&&t.status<400)for(let t in e)listRepos(e[t].name,e[t].description,e[t].html_url,e[t].language,e[t].forks_count);else console.log(t.responseText)},t.send()}function getStarredRepos(e){const t=document.querySelector(".tab__counter--starred");let s=0;const n=new XMLHttpRequest,l=`https://api.github.com/users/${e}/starred`;n.open("GET",l,!0),n.onload=function(){let e=JSON.parse(this.response);if(n.status>=200&&n.status<400){for(let t in e)listStarredRepos(e[t].owner.login,e[t].name,e[t].description,e[t].html_url,e[t].stargazers_count,e[t].forks_count),s++;t.innerText=s}else console.log(n.responseText)},n.send()}function buildUser(e,t,s,n){const l=document.querySelector(".profile-panel__username"),i=document.querySelector(".profile-panel__bio"),r=document.querySelector(".profile-panel__user-img"),o=document.querySelector(".tab__counter--repos");l.innerText=e,i.innerText=t,r.src=s,o.innerText=n}function listRepos(e,t,s,n,l){let i=document.querySelector("#repos"),r=document.createElement("li");r.setAttribute("class","list-item");let o=document.createElement("h3");o.setAttribute("class","list-item__heading");let a=document.createElement("a");a.setAttribute("class","list-item__title"),a.href=s,a.textContent=e;let c=document.createElement("p");c.setAttribute("class","list-item__description"),c.textContent=t,o.appendChild(a),r.appendChild(o),r.appendChild(c);let d=document.createElement("span");d.setAttribute("class","list-item__text");let u=document.createElement("span");if(u.setAttribute("class","list-item__icon--code"),n){let e=document.createTextNode(n);d.appendChild(u),d.appendChild(e)}else{let e=document.createTextNode("text");d.appendChild(u),d.appendChild(e)}r.appendChild(d);let p=document.createElement("span");p.setAttribute("class","list-item__text");let m=document.createElement("span");if(m.setAttribute("class","list-item__icon--fork"),l){let e=document.createTextNode(l);p.appendChild(m),p.appendChild(e)}else{let e=document.createTextNode("0");p.appendChild(m),p.appendChild(e)}r.appendChild(p),i.appendChild(r)}function listStarredRepos(e,t,s,n,l,i){let r=document.querySelector("#starred"),o=document.createElement("li");o.setAttribute("class","list-item");let a=document.createElement("h3");a.setAttribute("class","list-item__heading");let c=document.createElement("a");c.setAttribute("class","list-item__title"),c.href=n;let d=document.createTextNode(t),u=document.createElement("span");u.setAttribute("class","list-item__title--user"),u.textContent=e+" / ",c.appendChild(u),c.appendChild(d);let p=document.createElement("p");if(p.setAttribute("class","list-item__description--starred"),p.textContent=s,a.appendChild(c),o.appendChild(a),o.appendChild(p),l){let e=document.createElement("span");e.setAttribute("class","list-item__text");let t=document.createElement("span");t.setAttribute("class","list-item__icon--star");let s=document.createTextNode(l);e.appendChild(t),e.appendChild(s),o.appendChild(e)}if(i){let e=document.createElement("span");e.setAttribute("class","list-item__text");let t=document.createElement("span");t.setAttribute("class","list-item__icon--fork");let s=document.createTextNode(i);e.appendChild(t),e.appendChild(s),o.appendChild(e)}r.appendChild(o)}function tabs(e){const t=document.querySelector("#tab-repos"),s=document.querySelector("#tab-starred"),n=document.querySelector("#repos"),l=document.querySelector("#starred");"link-starred"==e.target.id?(t.classList.remove("tab--selected"),s.classList.add("tab--selected"),n.classList.add("hide"),l.classList.remove("hide")):(s.classList.remove("tab--selected"),t.classList.add("tab--selected"),l.classList.add("hide"),n.classList.remove("hide"))}function search(){const e=document.querySelector("#repos"),t=document.querySelector("#starred"),s=document.querySelector("#search").value.toUpperCase();let n;[...(n=e.classList.contains("hide")?t:e).querySelectorAll(".list-item")].forEach(e=>{let t=e.childNodes[0];(t.textContent||t.innerText).toUpperCase().indexOf(s)>-1?e.classList.remove("hide"):e.classList.add("hide")})}getUser(userID),getRepos(userID),getStarredRepos(userID);